<div class="file-upload-container" data-testid="file-upload-area">
  <input type="file" 
         class="file-input" 
         data-testid="file-upload-input"
         (change)="onFileSelected($event)" 
         accept=".csv,.pdf" />

  <!-- CSV Table View -->
  <div *ngIf="isCSV" class="table-container" data-testid="csv-table">
    <table>
      <thead>
        <tr>
          <th *ngFor="let header of csvHeaders">{{header}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of getVisibleRows()">
          <td *ngFor="let cell of row; let i = index" 
              (dblclick)="startEditing($event, row, i)"
              data-testid="csv-table-cell">
            <ng-container *ngIf="!isEditing(row, i); else editCell">
              {{cell}}
            </ng-container>
            <ng-template #editCell>
              <input type="text" 
                     [value]="cell"
                     (keyup.enter)="finishEditing($event, row, i)"
                     (blur)="finishEditing($event, row, i)"
                     autofocus />
            </ng-template>
          </td>
        </tr>
      </tbody>
    </table>
    
    <!-- Pagination Controls -->
    <div class="pagination-controls">
      <button 
        [disabled]="currentPage === 1"
        (click)="previousPage()"
        data-testid="previous-page-button">
        Previous
      </button>
      <span data-testid="page-indicator">Page {{currentPage}}</span>
      <button 
        [disabled]="!hasNextPage"
        (click)="nextPage()"
        data-testid="next-page-button">
        Next
      </button>
    </div>
  </div>

  <!-- PDF Viewer -->
  <div *ngIf="isPDF" class="pdf-container" data-testid="pdf-viewer">
    <pdf-viewer [src]="pdfSrc"
               [render-text]="true"
               [original-size]="false"
               style="width: 100%; height: 70vh;">
    </pdf-viewer>
  </div>
</div>